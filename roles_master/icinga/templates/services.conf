

apply Service "ping4" {
  import "generic-service"

  check_command = "ping4"

  assign where host.address

  vars.notification["pushover"] = {
    groups = [ "icingaadmins" ]
  }

}

apply Service "ping6" {
  import "generic-service"

  check_command = "ping6"

  assign where host.address6

  vars.notification["pushover"] = {
    groups = [ "icingaadmins" ]
  }

}

apply Service "ssh" {
  import "generic-service"

  check_command = "ssh"

  assign where (host.address || host.address6) && host.vars.os == "Linux"

  vars.notification["pushover"] = {
    groups = [ "icingaadmins" ]
  }

}

apply Service for (http_vhost => config in host.vars.http_vhosts) {
  import "generic-service"

  check_command = "http"

  vars += config

  vars.notification["pushover"] = {
    groups = [ "icingaadmins" ]
  }
  
}







